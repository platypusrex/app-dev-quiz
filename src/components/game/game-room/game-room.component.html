<ion-header no-border>
	<ion-toolbar color="primary-dark">
		<ion-buttons left>
			<button ion-button icon-only (click)="closeModal($event)">
				<ion-icon name="ios-close"></ion-icon>
			</button>
		</ion-buttons>
		<ion-title>
			{{category.displayName}} game lobby
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<game-message-cmp
		[game]="game$ | async"
		[gameType]="gameType"
		[messages]="messages"
		[isMessageVisible]="!(triviaQuestion$ | async)?._id">
	</game-message-cmp>

	<game-check-answer-cmp
		[isCorrect]="answerCorrect"
		[showMessage]="showNotification">
	</game-check-answer-cmp>

	<div
		class="dq-flex-container column center"
		*ngIf="!(triviaQuestion$ | async) && questionTimer && questionTimer > 0">
		<game-start-countdown-cmp></game-start-countdown-cmp>
	</div>

	<div style="width:100%;" *ngIf="(triviaQuestion$ | async) && questionTimer && questionTimer > 0">
		<progress-bar-cmp
			[progress]="questionTimer"
			[startingNumber]="!(triviaQuestion$ | async) ? 5 : 10">
		</progress-bar-cmp>
	</div>

	<game-question-cmp
		[triviaQuestion]="triviaQuestion$ | async"
		(emitPlayerAnswerSelection)="handlePlayerAnswerSelection($event)">
	</game-question-cmp>

	<game-type-select-cmp
		[game]="game$ | async"
		(emitOnePlayerGameSelect)="createOnePlayerGame()"
		(emitTwoPlayerGameSelect)="createTwoPlayerGame()">
	</game-type-select-cmp>
</ion-content>